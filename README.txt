1) Для работы требуется либа nettaddr
>>> pip install netaddr

2) input.txt сначала записываются адреса департамента и через пустую строку исключения, например:

input.txt
---------
1.0.0.0/24
2.0.0.0/24

1.0.0.128/32

3) Результат появится в output.txt

output.txt
----------
1.0.0.0-1.0.0.127
1.0.0.129-1.0.0.255
2.0.0.0-2.0.0.255